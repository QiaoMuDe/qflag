// Package types 定义了qflag项目的核心类型和接口
//
// types 包提供了整个项目的基础类型定义, 包括:
//   - 标志类型和接口定义
//   - 命令接口定义
//   - 注册表接口定义
//   - 错误处理类型
//
// 这些类型和接口构成了整个框架的核心抽象层,
// 为具体的实现提供了统一的规范和契约。
package types

// FlagRegistry 标志注册表接口
//
// FlagRegistry 定义了标志注册和管理的标准接口, 提供了
// 标志的完整生命周期管理功能。
//
// 核心功能:
//   - 标志的注册和注销
//   - 基于名称的查找和检索
//   - 批量操作和遍历支持
//   - 存在性检查和计数
//
// 设计特点:
//   - 支持长名称和短名称查找
//   - 提供统一的错误处理
//   - 支持别名管理 (通过具体实现)
//   - 线程安全由具体实现保证
type FlagRegistry interface {
	// Register 注册新标志到注册表
	//
	// 参数:
	//   - flag: 要注册的标志
	//
	// 返回值:
	//   - error: 注册失败时返回错误
	//
	// 错误情况:
	//   - 标志为nil或名称为空
	//   - 标志名称已存在
	Register(flag Flag) error

	// Unregister 从注册表中移除指定标志
	//
	// 参数:
	//   - name: 要移除的标志名称
	//
	// 返回值:
	//   - error: 移除失败时返回错误
	//
	// 错误情况:
	//   - 标志不存在
	Unregister(name string) error

	// Get 根据名称获取标志
	//
	// 参数:
	//   - name: 标志名称
	//
	// 返回值:
	//   - Flag: 找到的标志
	//   - bool: 是否找到, true表示找到
	//
	// 功能说明:
	//   - 支持长名称查找
	//   - 未找到时返回零值和false
	Get(name string) (Flag, bool)

	// List 获取所有注册的标志列表
	//
	// 返回值:
	//   - []Flag: 所有标志的切片
	//
	// 功能说明:
	//   - 返回注册表中所有标志
	//   - 顺序不确定, 取决于实现
	List() []Flag

	// Has 检查指定名称的标志是否存在
	//
	// 参数:
	//   - name: 要检查的标志名称
	//
	// 返回值:
	//   - bool: 是否存在, true表示存在
	//
	// 功能说明:
	//   - 快速存在性检查
	//   - 不返回标志本身, 提高效率
	Has(name string) bool

	// Count 获取注册表中的标志数量
	//
	// 返回值:
	//   - int: 标志总数
	//
	// 功能说明:
	//   - 返回当前注册的标志数量
	//   - 时间复杂度应为O(1)
	Count() int

	// Clear 清空注册表中的所有标志
	//
	// 功能说明:
	//   - 移除所有标志
	//   - 重置注册表到初始状态
	//   - 释放相关内存
	Clear()
}

// CmdRegistry 命令注册表接口
//
// CmdRegistry 定义了命令注册和管理的标准接口, 提供了
// 命令的完整生命周期管理功能。
//
// 核心功能:
//   - 命令的注册和注销
//   - 基于名称的查找和检索
//   - 批量操作和遍历支持
//   - 存在性检查和计数
//
// 设计特点:
//   - 支持长名称和短名称查找
//   - 提供统一的错误处理
//   - 支持别名管理 (通过具体实现)
//   - 线程安全由具体实现保证
type CmdRegistry interface {
	// Register 注册新命令到注册表
	//
	// 参数:
	//   - cmd: 要注册的命令
	//
	// 返回值:
	//   - error: 注册失败时返回错误
	//
	// 错误情况:
	//   - 命令为nil或名称为空
	//   - 命令名称已存在
	Register(cmd Command) error

	// Unregister 从注册表中移除指定命令
	//
	// 参数:
	//   - name: 要移除的命令名称
	//
	// 返回值:
	//   - error: 移除失败时返回错误
	//
	// 错误情况:
	//   - 命令不存在
	Unregister(name string) error

	// Get 根据名称获取命令
	//
	// 参数:
	//   - name: 命令名称
	//
	// 返回值:
	//   - Command: 找到的命令
	//   - bool: 是否找到, true表示找到
	//
	// 功能说明:
	//   - 支持长名称查找
	//   - 未找到时返回零值和false
	Get(name string) (Command, bool)

	// List 获取所有注册的命令列表
	//
	// 返回值:
	//   - []Command: 所有命令的切片
	//
	// 功能说明:
	//   - 返回注册表中所有命令
	//   - 顺序不确定, 取决于实现
	List() []Command

	// Has 检查指定名称的命令是否存在
	//
	// 参数:
	//   - name: 要检查的命令名称
	//
	// 返回值:
	//   - bool: 是否存在, true表示存在
	//
	// 功能说明:
	//   - 快速存在性检查
	//   - 不返回命令本身, 提高效率
	Has(name string) bool

	// Count 获取注册表中的命令数量
	//
	// 返回值:
	//   - int: 命令总数
	//
	// 功能说明:
	//   - 返回当前注册的命令数量
	//   - 时间复杂度应为O(1)
	Count() int

	// Clear 清空注册表中的所有命令
	//
	// 功能说明:
	//   - 移除所有命令
	//   - 重置注册表到初始状态
	//   - 释放相关内存
	Clear()
}
